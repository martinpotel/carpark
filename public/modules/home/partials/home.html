<md-toolbar layout="row" class="md-whiteframe-3dp">
	<div class="md-toolbar-tools">
		<main-menu-button></main-menu-button>
		<h1>CarParking</h1>
	</div>
</md-toolbar>

<div layout="column" layout-fill>
	<md-content class="md-padding" layout-xs="column" layout="column">
		<div flex-xs flex-gt-xs="50" layout="column" ng-if="countReservation>0">
			<md-card>
				<md-card-content layout="rown" layout-align="start start">
					<h2 class="md-title" style="color:#333;">You have {{countReservation}} reservation(s) to accept.</h2>
					<span flex></span>
					<md-button ng-href="" class="md-raised md-primary" ng-click="goToMessages()">Reservations</md-button>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="column" ng-if="countMsg>0">
			<md-card>
				<md-card-content layout="rown" layout-align="start start">
					<h2 class="md-title" style="color:#333;">You have {{countMsg}} message(s) to read.</h2>
					<span flex></span>
					<md-button ng-href="" class="md-raised md-primary" ng-click="goToMessages()">Messages</md-button>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="column" ng-if="countBooking>0">
			<md-card>
				<md-card-content layout="rown" layout-align="start start">
					<h2 class="md-title" style="color:#333;">You have {{countBooking}} booking(s) waiting.</h2>
					<span flex></span>
					<md-button ng-href="" class="md-raised md-primary" ng-click="goToBookings()">Bookings</md-button>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="column">
			<md-card>
				<md-card-content>
					<h2 class="md-title" style="color:#333;">Find a Parking</h2>
					<div  layout="row" layout-align="center center">
						<input vs-google-autocomplete
							ng-model="adress.lib" 
							vs-latitude="map.lat"
	    					vs-longitude="map.long" 
							ng-change="printAdress()" 
							name="address" type="text" 
							style="width: 80%">
			  			<md-datepicker ng-model="dateStart" md-placeholder="Enter date"></md-datepicker>
			  			<md-datepicker ng-model="dateEnd" md-placeholder="Enter date"></md-datepicker>
			  			<md-button ng-click="centerMap()" class="md-fab">
							<md-icon aria-label="Icon" class="material-icons">search</md-icon>
						</md-button>
					</div>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="row">
		    <div flex-xs flex-gt-xs="50" layout="column">
				<md-card>
					<md-card-content>
						<md-list>
							<md-subheader class="md-no-sticky">Parkings</md-subheader>
							<md-list-item class="md-3-line md-accent"  ng-repeat="p in parkings" ng-click="selectPark(p)" >
								<div class="md-list-item-text" layout="column">
									<h3>{{ p.address.city }}</h3>
									<h4>{{p.address.streetNumber}}, {{ p.address.street }}</h4>
									<p>{{ p.type}}</p>
								</div>
								<div>
									<md-button ng-href="" class="md-icon-button" ng-click="showAlert($event,p)">
										<md-icon aria-label="Icon" class="material-icons">launch</md-icon>	
									</md-button>
								</div>
							</md-list-item>
						</md-list>
					</md-card-content>
				</md-card>
			</div>
			<div flex-xs flex-gt-xs="50" layout="column">
				<md-card>
					<md-card-content>
						<ng-map zoom="15" center="{{map.lat}},{{map.long}}">
						    <marker 
						    	no-watcher="true"
					  			ng-repeat="p in parkings"
					  			position="{{p.address.location.lat}}, {{p.address.location.long}}"
					  			on-click="showAlert(p)">	
					  		</marker>
						</ng-map>
					</md-card-content>
				</md-card>
			</div>
		</div>
	</md-content>
</div>

